<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><Sign-up></title>
    <link rel="stylesheet" href="style3.css">
</head>
<body>
    <div class="container">
        <div class="navbar">
            <div class="nav">
                <div class="ubera"><a href="about.html">Uber</a></div>
                <button class="login">Log in</button>
                <button class="signup" id="signup">Sign up</button>
                <div class="menu"> <a href="#menu">&#9776;</a></div>
        
            </div>

        </div>

        <div class="nav2">
            <div class="one">
                <p>What's your email?</p>
            </div>    
            <div class="form">
                <form>
                    <input type="username" class="oneu" id="username"placeholder=" Username"/><br>
                    <input type="email" class="oneb" id="email"placeholder=" Email"/><br>
                    <input type="password" class="onec" id="password"placeholder=" Password"/><br>
                    <input type="login" class="onea" id="sighUp" name="sighUp_submit" value="Sign up"/>
                </form>    
            <div class="or">
             ___________________ or __________________
            </div>      
            <div class="t">
                <button>Continue with Google</button>
            </div>
            <div class="b">
                <button>Continue with Apple</button><br>
            </div>
            <div class="c">
                <button>Continue with Facebook</button>
            </div>
              

        </div>

    </div> 

 <script type="module">
   // Import the functions you need from the SDKs you need
   import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
   import { getDatabase, set, ref } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-database.js";
   import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-auth.js";
     
   // TODO: Add SDKs for Firebase products that you want to use
   // https://firebase.google.com/docs/web/setup#available-libraries
           
   // Your web app's Firebase configuration
   const firebaseConfig = {
     apiKey: "AIzaSyAzJwYo0_rthCwrCQZLFyZQABTaSAv6Pkc",
     authDomain: "portfolio-auth-cacad.firebaseapp.com",
     projectId: "portfolio-auth-cacad",
     storageBucket: "portfolio-auth-cacad.appspot.com",
     messagingSenderId: "188588500517",
     appId: "1:188588500517:web:071323bb13b4bdab9581cc"
   };
           
   // Initialize Firebase
   const app = initializeApp(firebaseConfig);
   const database = getDatabase(app);
   const auth = getAuth();

 sighUp.addEventListener('click',(e) => {

   var email = document.getElementById('email').value;
   var password = document.getElementById('password').value;
   var username = document.getElementById('username').value;
    
   createUserWithEmailAndPassword(auth, email, password)
     .then((userCredential) => {
      // Signed up 
       const user = userCredential.user;

       set(ref(database, 'users/' + user.uid),{
           username: username,
           email: email
       })
       alert('user created');
       // ...
     })
     .catch((error) => {
       const errorCode = error.code;
       const errorMessage = error.message;

       alert(errorMessage);
    // ..
  });

 });
 </script>     
</body>
</html>