<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uber clone</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="./images/favicon.ico.png" type="image/x-icon">
   
</head>
<body>
    <div class="container"> <!------creating wrapper container---->

         <!------creating navigation container---->        
        <div class="navbar">
            <div class="nav">
                <div class="ubera"><a href="about.html">Uber</a></div>
                <button class="login">Log in</button>
                <button class="signup" id="signup">Sign up</button>
                <button class="hamburger" id="hamburger">
                    <div class="bar"></div>
                </button>
                <div class="mobile-nav" id="mobile-nav">
                    <a href="login.html">Ride</a>
                    <a href="drive.html">Drive</a>
                    <a href="food.html">Uber eats</a>
                    <a href="about.html">About</a>
                </div>    
        
            </div>
            <div class="text" id="test">
                <h1>Go anywhere with Uber</h1>
                <h3 class="htre">Request a ride, hop in, and go.</h3>
            </div>
            <!------input form container---->
            <div class="locationform">
                <form>
                    <input type="text" id="pickup"placeholder="&#x2B24; &ensp;Enter location"><br>
                    <input type="text" id="destination" placeholder="&#11200; &ensp;Enter destination"><br>
                    <button id="sub", onclick="calculateRoute()">Book ride</button><br>
                </form>
                </div>
                <div class="cars">
                    <a href="car-list.html">View available cars</a>
                </div>
             <!------creating map container----> 
                <div id="map"
                style="width: 100%; height: 400px;">
                </div>
            
            </div>    
            <div class="imgdiv">
                <img src="./images/aligt.jpg" alt="Ride with Uber">
            </div>    

        <!------second container---->
    
        <div class="nav2">
            <h1>Drive when you want, make what you need</h1>
            <p>Make money on your schedule with deliveries or rides—or both. You can use your own car or choose a rental<br> through Uber.</p>
            <button class="get" id="get">Get started</button>
            <a href="#">Already have an account? Sign in</a>

            <div class="imgdiv">
            <img src="./images/OIP.jpg" alt="Drive when you want with Uber">
            </div>
            

        </div>
        <!------creating third container---->
        <div class="nav3">
            <h1>The Uber you know, reimagined for<br>business</h1>
            <p>Uber for Business is a platform for managing global rides and meals, and local deliveries, for companies of any size.</p>
            <button class="get" id="get">Get started</button>
            <a href="#">Check out our solutions</a>
            <div class="imgdiv">
                <img src="./images/download.jpg" alt="">
            </div>

            
        </div>
        <!------creating fourth container---->
        <div class="nav4">
            <h1>It’s easier in the apps</h1>
            <div class="lasdiv"> 
                <button class="lasdivb">Uber</button>
                <a href="">Download the Uber app &#x1F86A;</a>
            </div><br><br><br>
            <div class="lasdiv"> 
                <button class="lasdivb">Uber</button>
                <a href="">Download the driver app &#x1F86A; &emsp;</a>
            </div><br><br><br><br>
            
        </div>
        <!------creating fifth container---->
        <div class="nav5">
            <div class="lasdiv2"><p>Uber</p>
            <a href="#">Visit Help Center</a>
            </div>
            <div class="comb">
                <h3>Company</h3>
                <div class="cont1">
                    <ul>
                        <li><a href="about.html">About us</a></li>
                        <li><a href="bout.html">offerings</a></li>
                        <li><a href="https://www.uber.com/newsroom">Newsroom</a></li>
                        <li><a href="https://www.uber.com/newsroom/">Investors</a></li>
                        <li><a href="https://www.uber.com/newsroom/">Blog</a></li>
                        <li><a href="https://www.uber.com/newsroom/">careers</a></li>
                        <li><a href="https://www.uber.com/newsroom/">AI</a></li>
                        <li><a href="https://www.uber.com/newsroom/">Gift cards</a></li>
                    </ul>
                </div>        
                </div>    
               
                <div class="cont2">
                    <h3>Products</h3><br><br>
                    <ul>
                        <li><a href="https://www.uber.com/newsroom/">Ride</a></li>
                        <li><a href="https://www.uber.com/newsroom/">Drive</a></li>
                        <li><a href="https://www.uber.com/eats/">Eat</a></li>
                        <li><a href="https://www.uber.com/newsroom/">Uber Freight</a></li>
                        <li><a href="https://www.uber.com/uber health">Uber Health</a></li>
                    </ul>
                </div>
            </div> 
            <div class="icon">     
                <a href="#"class="fa fa-facebook"></a>
                <a href="#" class="fa fa-youtube"></a>
                <a href="#" class="fa fa-linkedin"></a>
                <a href="#" class="fa fa-instagram"></a>
                <a href="#" class="fa fa-twitter"></a>
            </div>
            <div class="p1">
                <p>2024 Uber Technologies Inc.</p>
            </div>    
            <div class="p2">
                <p>Privacy</p>
                <p>Accessibility</p>
                <p>Terms</p>
            </div>
            
        </div> 

    </div>
                    <!------creating firebase authentication script---->

 <script type="module">
   // Import the functions  from the SDKs 
   import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
   import { getDatabase } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-database.js";
   import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-auth.js";

   // TODO: Adding SDKs for Firebase products needed
   // https://firebase.google.com/docs/web/setup#available-libraries
      
   // web app's Firebase configuration
   const firebaseConfig = {
     apiKey: "AIzaSyAzJwYo0_rthCwrCQZLFyZQABTaSAv6Pkc",
     authDomain: "portfolio-auth-cacad.firebaseapp.com",
     projectId: "portfolio-auth-cacad",
     storageBucket: "portfolio-auth-cacad.appspot.com",
     messagingSenderId: "188588500517",
     appId: "1:188588500517:web:071323bb13b4bdab9581cc"
   };
      
   // Initialize Firebase
   const app = initializeApp(firebaseConfig);
   const database = getDatabase(app);
   const auth = getAuth();

 </script>
                <!------Here Map javascript container---->
    
 <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-core.js"></script>
 <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-service.js"></script>
 <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-ui.js"></script>
 <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js"></script>
 <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-clustering.js"></script>
 <script>

// Initialize communication with the platform
const platform = new H.service.Platform({
    apikey: 'd9L7de7wbZ64KHkYbulk_YWKhvQa7-ujBtGKyd5dDeU'
});

// Default options for the base layers that are used to render a map
var defaultLayers = platform.createDefaultLayers();
const routingService = platform.getRoutingService(null, 8);

// Initialize the map
var map = new H.Map(document.getElementById('map'), 
    defaultLayers.vector.normal.map, {
        zoom: 5,
        center: { lat: 6.22089970, lng: 6.93695590 } // Coordinates for Anambra State, Nigeria
});

// add a resize listener to make sure that the map occupies the whole container
window.addEventListener('resize', () => map.getViewPort().resize());

// MapEvents enables the event system
// Behavior implements default interactions for pan/zoom (also on mobile touch environments)
var behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(map));

// Create the default UI components
var ui = H.ui.UI.createDefault(map, defaultLayers);
const group = new H.map.Group();

group.addEventListener('tap', function (evt) {
    // This function will be executed when a 'tap' event is detected on the 'group'.
    // 'evt' contains information about the event, including the target object (marker, polyline, etc.).

        if (evt.target instanceof H.map.Marker) {
        const marker = evt.target;
        // Handle marker tap (e.g., show details, open popup, etc.)
        console.log('Marker tapped:', marker.getData()); 
    }

    // Example: Check if the tapped object is a polyline
    if (evt.target instanceof H.map.Polyline) {
        const polyline = evt.target;
        // Handle polyline tap (e.g., highlight, show route details, etc.)
        console.log('Polyline tapped:', polyline.getGeometry()); 
    }
});        
var bubble = new H.ui.InfoBubble(evt.target.getGeometry(), {
    // This creates a new InfoBubble, which is a UI element to show information on the map.
    // 'evt.target.getGeometry()' gets the geographical coordinates where the tap occurred.    
        content: evt.target.getData()
    });
    
    ui.addBubble(bubble);
 // This adds the newly created InfoBubble to the UI so it can be displayed on the map.
document.getElementById('sub').addEventListener('submit', function (event) {
event.preventDefault(); // Prevent form submission
});
// Get user input values
const pickupAddress = document.getElementById('pickup').value;
const destinationAddress = document.getElementById('destination').value;
// Get an instance of the routing service
var router = platform.getRoutingService();


// Create the parameters for the routing request:
var routingParameters = {
    'routingMode': 'fast',
    'transportMode': 'car',
    'traffic': 'enabled',
    'alternatives': 3,
    'avoid': 'tollroads',
    'return': 'polyline',
    'waypoint0': `geo!${pickup}`,
    'waypoint1': `geo!${destination}`,
    'representation': 'display'
};

// Define a function that returns a Promise which resolves with the routing result
function getRoutingResult() {
  return new Promise((resolve, reject) => {
    // Simulate an asynchronous API call that fetches routing data
    setTimeout(() => {
      const result = { 
        pickup: { lat: 6.22089970, lng: 6.93695590 }, // Starting point coordinates (Paris)
        destination: { lat: 6.5244, lng:  3.3792}, // Destination coordinates (Los Angeles)
      };
      resolve(result); // Resolve the Promise with the routing result
    }, 1000); // Assume it takes 1 second to get the result
  });
}
var onResult = function(result) {
// ensure that at least one route was found
    if (result.routes.length) {
        result.routes[0].sections.forEach((section) => {
// Create a linestring to use as a point source for the route line
let linestring = H.geo.LineString.fromFlexiblePolyline(section.polyline);

// Create a polyline to display the route:
let routeLine = new H.map.Polyline(linestring, {
    style: { strokeColor: 'navy', lineWidth: 3 }
    });
// Add markers for pickup and destination
const pickupMarker = new H.map.Marker({ lat: 6.22089970, lng: 6.93695590 });
const destinationMarker = new H.map.Marker({ lat: 6.5244, lng: 3.3792 }); // Lagos, Nigeria

// Function to add a polyline to the map
function addPolylineToMap(map) {
    // Define the points of the polyline
var lineString = new H.geo.LineString();
    lineString.pushPoint({lat: 6.22089970, lng: 6.93695590});
    lineString.pushPoint({lat: 6.5244, lng: 3.3792});

// Create the polyline with the lineString and a style
var polyline = new H.map.Polyline(lineString, {
    style: { strokeColor: 'navy', lineWidth: 3 }
});
map.addObject(routeLine);

 // Add the polyline and markers to the map
group.addObject(pickupMarker);
group.addObject(destMarker);
group.addObject(routeLine);

}

        });
    }
};

router.calculateRoute(routingParameters, onResult, function(result) {
    if (result.response.route[0]) {
    // Process the route data (polyline, instructions, etc.)
    const route = result.response.route[0];
    // Display the route on the map
    const routeLine = new H.map.Polyline(route.shape, { style: { strokeColor: 'blue', lineWidth: 5 } });
    map.addObject(routeLine);
  }
})
 </script>

 <script src="script.js"></script>
</body>
</html>